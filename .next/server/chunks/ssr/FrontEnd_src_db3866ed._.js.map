{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/abd03.DESKTOP-SVHBS19/Desktop/Proj2%20-%20Copy/Proj2%20-%20Copy/FrontEnd/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,+NAAgB,CAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,0PAAC;QACC,KAAK;QACL,WAAW,IAAA,qIAAE,EACX,4DACA;QAED,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,+NAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,0PAAC;QACC,KAAK;QACL,WAAW,IAAA,qIAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,+NAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,0PAAC;QACC,KAAK;QACL,WAAW,IAAA,qIAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,+NAAgB,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,0PAAC;QACC,KAAK;QACL,WAAW,IAAA,qIAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,+NAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,0PAAC;QAAI,KAAK;QAAK,WAAW,IAAA,qIAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,+NAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,0PAAC;QACC,KAAK;QACL,WAAW,IAAA,qIAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 89, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/abd03.DESKTOP-SVHBS19/Desktop/Proj2%20-%20Copy/Proj2%20-%20Copy/FrontEnd/src/components/ui/alert.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,mLAAG,EACvB,6JACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,MAAM,sBAAQ,+NAAgB,CAG5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAO,EAAE,oBACnC,0PAAC;QACC,KAAK;QACL,MAAK;QACL,WAAW,IAAA,qIAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGb,MAAM,WAAW,GAAG;AAEpB,MAAM,2BAAa,+NAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,0PAAC;QACC,KAAK;QACL,WAAW,IAAA,qIAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,iCAAmB,+NAAgB,CAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,0PAAC;QACC,KAAK;QACL,WAAW,IAAA,qIAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,iBAAiB,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 154, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/abd03.DESKTOP-SVHBS19/Desktop/Proj2%20-%20Copy/Proj2%20-%20Copy/FrontEnd/src/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,gBAAgB,IAAA,mLAAG,EACvB;AAGF,MAAM,sBAAQ,+NAAgB,CAI5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,0PAAC,qLAAmB;QAClB,KAAK;QACL,WAAW,IAAA,qIAAE,EAAC,iBAAiB;QAC9B,GAAG,KAAK;;;;;;AAGb,MAAM,WAAW,GAAG,qLAAmB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 185, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/abd03.DESKTOP-SVHBS19/Desktop/Proj2%20-%20Copy/Proj2%20-%20Copy/FrontEnd/src/lib/places-api.ts"],"sourcesContent":["/**\n * Places API utility functions\n * Uses backend proxy to avoid CORS issues\n */\n\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000';\n\n/**\n * Get authentication headers (imported from api-client)\n */\nfunction getAuthHeaders(): HeadersInit {\n  const token = typeof window !== 'undefined' ? localStorage.getItem('access_token') : null;\n  const headers: HeadersInit = {\n    'Content-Type': 'application/json',\n  };\n\n  if (token) {\n    headers['Authorization'] = `Bearer ${token}`;\n  }\n\n  return headers;\n}\n\n/**\n * Handle 401 errors by redirecting to login\n */\nfunction handleAuthError() {\n  if (typeof window !== 'undefined') {\n    localStorage.removeItem('access_token');\n    localStorage.removeItem('refresh_token');\n    window.location.href = '/login';\n  }\n}\n\nexport interface PlaceSuggestion {\n  placeId: string;\n  displayName: string;\n  formattedAddress: string;\n  location?: {\n    lat: number;\n    lng: number;\n  };\n}\n\nexport interface PlaceDetails {\n  placeId: string;\n  displayName: string;\n  formattedAddress: string;\n  location: {\n    lat: number;\n    lng: number;\n  };\n  addressComponents?: Array<{\n    longText: string;\n    shortText: string;\n    types: string[];\n  }>;\n}\n\n/**\n * Generate a session token for autocomplete requests\n * (Not used by Nominatim, but kept for API compatibility)\n */\nexport function generateSessionToken(): string {\n  return `${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\n}\n\n/**\n * Fetch autocomplete suggestions from backend proxy\n */\nexport async function fetchAutocompleteSuggestions(\n  input: string,\n  sessionToken?: string\n): Promise<PlaceSuggestion[]> {\n  if (!input || input.length < 2) {\n    return [];\n  }\n\n  try {\n    const token = typeof window !== 'undefined' ? localStorage.getItem('access_token') : null;\n    if (!token) {\n      console.warn('No access token found for autocomplete');\n      return [];\n    }\n\n    const params = new URLSearchParams({\n      q: input,\n    });\n\n    const response = await fetch(\n      `${API_BASE_URL}/api/aqi/autocomplete/?${params.toString()}`,\n      {\n        headers: getAuthHeaders(),\n      }\n    );\n\n    // Check if response is OK\n    if (!response.ok) {\n      // Handle 401 Unauthorized - token expired or invalid\n      if (response.status === 401) {\n        handleAuthError();\n        return [];\n      }\n      \n      // Check content type before trying to parse JSON\n      const contentType = response.headers.get('content-type');\n      if (contentType && contentType.includes('application/json')) {\n        const errorData = await response.json().catch(() => ({ detail: response.statusText }));\n        console.error('Autocomplete API error:', response.status, errorData);\n        // Don't throw error, just return empty array to prevent UI breaking\n        return [];\n      } else {\n        // HTML error page (404, 500, etc.)\n        const errorText = await response.text().catch(() => response.statusText);\n        console.error('Autocomplete API error (HTML response):', response.status, errorText.substring(0, 100));\n        return [];\n      }\n    }\n\n    // Check content type before parsing\n    const contentType = response.headers.get('content-type');\n    if (!contentType || !contentType.includes('application/json')) {\n      const text = await response.text();\n      console.error('Unexpected content type:', contentType, text.substring(0, 100));\n      throw new Error('Server returned non-JSON response');\n    }\n\n    const data = await response.json();\n    \n    // Handle error response from backend\n    if (data.error) {\n      console.error('Backend error:', data.detail);\n      return [];\n    }\n\n    // Backend returns array of suggestions\n    if (Array.isArray(data)) {\n      return data as PlaceSuggestion[];\n    }\n\n    return [];\n  } catch (error) {\n    console.error('Error fetching autocomplete suggestions:', error);\n    if (error instanceof Error) {\n      console.error('Error details:', error.message, error.stack);\n    }\n    return [];\n  }\n}\n\n/**\n * Fetch place details using place ID\n * Note: Since we're using backend proxy, we can extract details from the suggestion\n * For now, we'll use the suggestion data directly\n */\nexport async function fetchPlaceDetails(\n  placeId: string,\n  sessionToken?: string\n): Promise<PlaceDetails | null> {\n  // Since we're using backend proxy, the suggestion already contains location data\n  // This function is kept for API compatibility but may not be needed\n  // If place details are needed, we can add a backend endpoint for it\n  console.warn('fetchPlaceDetails called but may not be fully implemented with backend proxy');\n  return null;\n}\n\n/**\n * Search for places using text query\n */\nexport async function searchPlaces(\n  query: string,\n  locationBias?: { lat: number; lng: number; radius?: number }\n): Promise<PlaceDetails[]> {\n  try {\n    const token = typeof window !== 'undefined' ? localStorage.getItem('access_token') : null;\n    if (!token) {\n      console.warn('No access token found for search places');\n      return [];\n    }\n\n    const params = new URLSearchParams({\n      q: query,\n    });\n\n    const response = await fetch(\n      `${API_BASE_URL}/api/aqi/autocomplete/?${params.toString()}`,\n      {\n        headers: getAuthHeaders(),\n      }\n    );\n\n    if (!response.ok) {\n      // Handle 401 Unauthorized\n      if (response.status === 401) {\n        handleAuthError();\n        return [];\n      }\n      return [];\n    }\n\n    const data = await response.json();\n    \n    if (data.error) {\n      return [];\n    }\n\n    // Convert suggestions to PlaceDetails format\n    const places: PlaceDetails[] = [];\n    if (Array.isArray(data)) {\n      for (const suggestion of data) {\n        if (suggestion.location) {\n          places.push({\n            placeId: suggestion.placeId || '',\n            displayName: suggestion.displayName || '',\n            formattedAddress: suggestion.formattedAddress || suggestion.displayName || '',\n            location: suggestion.location,\n            addressComponents: [],\n          });\n        }\n      }\n    }\n\n    return places;\n  } catch (error) {\n    console.error('Error searching places:', error);\n    return [];\n  }\n}\n\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;;;;;;;AAED,MAAM,eAAe,6DAAmC;AAExD;;CAEC,GACD,SAAS;IACP,MAAM,QAAQ,sCAAgC,0BAAuC;IACrF,MAAM,UAAuB;QAC3B,gBAAgB;IAClB;IAEA;;IAIA,OAAO;AACT;AAEA;;CAEC,GACD,SAAS;IACP;;AAKF;AA+BO,SAAS;IACd,OAAO,GAAG,KAAK,GAAG,GAAG,CAAC,EAAE,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,GAAG,IAAI;AACnE;AAKO,eAAe,6BACpB,KAAa,EACb,YAAqB;IAErB,IAAI,CAAC,SAAS,MAAM,MAAM,GAAG,GAAG;QAC9B,OAAO,EAAE;IACX;IAEA,IAAI;QACF,MAAM,QAAQ,sCAAgC,0BAAuC;QACrF,wCAAY;YACV,QAAQ,IAAI,CAAC;YACb,OAAO,EAAE;QACX;;;QAEA,MAAM;QAIN,MAAM;QA8BN,oCAAoC;QACpC,MAAM;QAON,MAAM;IAcR,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,4CAA4C;QAC1D,IAAI,iBAAiB,OAAO;YAC1B,QAAQ,KAAK,CAAC,kBAAkB,MAAM,OAAO,EAAE,MAAM,KAAK;QAC5D;QACA,OAAO,EAAE;IACX;AACF;AAOO,eAAe,kBACpB,OAAe,EACf,YAAqB;IAErB,iFAAiF;IACjF,oEAAoE;IACpE,oEAAoE;IACpE,QAAQ,IAAI,CAAC;IACb,OAAO;AACT;AAKO,eAAe,aACpB,KAAa,EACb,YAA4D;IAE5D,IAAI;QACF,MAAM,QAAQ,sCAAgC,0BAAuC;QACrF,wCAAY;YACV,QAAQ,IAAI,CAAC;YACb,OAAO,EAAE;QACX;;;QAEA,MAAM;QAIN,MAAM;QAgBN,MAAM;QAMN,6CAA6C;QAC7C,MAAM;IAgBR,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO,EAAE;IACX;AACF","debugId":null}},
    {"offset": {"line": 274, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/abd03.DESKTOP-SVHBS19/Desktop/Proj2%20-%20Copy/Proj2%20-%20Copy/FrontEnd/src/components/auth/city-autocomplete.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useRef, useEffect, useCallback } from 'react';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Search, X, MapPin } from 'lucide-react';\nimport { fetchAutocompleteSuggestions, fetchPlaceDetails, generateSessionToken, type PlaceSuggestion } from '@/lib/places-api';\n\ninterface CityAutocompleteProps {\n  value: string;\n  onChange: (city: string, country: string, coordinates?: { lat: number; lng: number }) => void;\n  onBlur?: () => void;\n  disabled?: boolean;\n  placeholder?: string;\n  label?: string;\n  required?: boolean;\n  className?: string;\n}\n\nexport default function CityAutocomplete({\n  value,\n  onChange,\n  onBlur,\n  disabled = false,\n  placeholder = 'Search for a city...',\n  label,\n  required = false,\n  className = '',\n}: CityAutocompleteProps) {\n  const [inputValue, setInputValue] = useState(value);\n  const [isFocused, setIsFocused] = useState(false);\n  const [suggestions, setSuggestions] = useState<PlaceSuggestion[]>([]);\n  const [showSuggestions, setShowSuggestions] = useState(false);\n  const [sessionToken, setSessionToken] = useState<string>(generateSessionToken());\n  const inputRef = useRef<HTMLInputElement>(null);\n  const suggestionsRef = useRef<HTMLDivElement>(null);\n  const debounceTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n\n  // Sync external value changes\n  useEffect(() => {\n    setInputValue(value);\n  }, [value]);\n\n  // Fetch autocomplete suggestions\n  const fetchSuggestions = useCallback(async (query: string) => {\n    if (!query || query.length < 2) {\n      setSuggestions([]);\n      return;\n    }\n\n    const results = await fetchAutocompleteSuggestions(query, sessionToken);\n    setSuggestions(results);\n  }, [sessionToken]);\n\n  // Handle input change with debouncing\n  const handleInputChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value;\n    setInputValue(value);\n    \n    // If user clears input, clear the selection\n    if (!value) {\n      onChange('', '', undefined);\n      setSuggestions([]);\n      return;\n    }\n\n    if (debounceTimeoutRef.current) {\n      clearTimeout(debounceTimeoutRef.current);\n    }\n\n    debounceTimeoutRef.current = setTimeout(() => {\n      fetchSuggestions(value);\n    }, 300);\n  }, [fetchSuggestions, onChange]);\n\n  // Handle place selection\n  const handlePlaceSelect = useCallback(async (suggestion: PlaceSuggestion) => {\n    setInputValue(suggestion.displayName);\n    setShowSuggestions(false);\n    setIsFocused(false);\n    setSuggestions([]);\n    \n    // Generate new session token for next search\n    setSessionToken(generateSessionToken());\n\n    // Use location from suggestion directly (backend proxy already provides it)\n    if (suggestion.location) {\n      // Extract country from display name (format: \"City, State, Country\")\n      const parts = suggestion.displayName.split(',').map(s => s.trim());\n      const country = parts.length > 1 ? parts[parts.length - 1] : '';\n      \n      // Extract city name (first part before comma)\n      const cityName = parts[0];\n      \n      onChange(cityName, country, suggestion.location);\n    } else {\n      // Fallback: try to fetch place details if location is missing\n      const placeDetails = await fetchPlaceDetails(suggestion.placeId, sessionToken);\n      \n      if (placeDetails && placeDetails.location) {\n        // Extract country from address components\n        let country = '';\n        if (placeDetails.addressComponents) {\n          for (const component of placeDetails.addressComponents) {\n            if (component.types.includes('country')) {\n              country = component.longText;\n              break;\n            }\n          }\n        }\n        \n        onChange(placeDetails.displayName, country, placeDetails.location);\n      }\n    }\n  }, [sessionToken, onChange]);\n\n  // Handle Enter key\n  const handleKeyDown = useCallback((e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === 'Enter') {\n      e.preventDefault();\n      if (suggestions.length > 0) {\n        handlePlaceSelect(suggestions[0]);\n      }\n    } else if (e.key === 'Escape') {\n      setShowSuggestions(false);\n    }\n  }, [suggestions, handlePlaceSelect]);\n\n  // Close suggestions when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (\n        suggestionsRef.current &&\n        !suggestionsRef.current.contains(event.target as Node) &&\n        inputRef.current &&\n        !inputRef.current.contains(event.target as Node)\n      ) {\n        setShowSuggestions(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, []);\n\n  const handleClear = useCallback(() => {\n    setInputValue('');\n    onChange('', '', undefined);\n    setSuggestions([]);\n    if (inputRef.current) {\n      inputRef.current.focus();\n    }\n  }, [onChange]);\n\n  return (\n    <div className={`space-y-2 ${className}`}>\n      {label && (\n        <Label htmlFor=\"city-autocomplete\">\n          {label}\n          {required && <span className=\"text-destructive ml-1\">*</span>}\n        </Label>\n      )}\n      <div className=\"relative\">\n        <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground z-10\" />\n        <Input\n          ref={inputRef}\n          id=\"city-autocomplete\"\n          type=\"text\"\n          placeholder={placeholder}\n          value={inputValue}\n          onChange={handleInputChange}\n          onFocus={() => {\n            setIsFocused(true);\n            setShowSuggestions(true);\n            if (inputValue.length >= 2) {\n              fetchSuggestions(inputValue);\n            }\n          }}\n          onBlur={() => {\n            setTimeout(() => {\n              setIsFocused(false);\n              setShowSuggestions(false);\n            }, 200);\n            onBlur?.();\n          }}\n          onKeyDown={handleKeyDown}\n          disabled={disabled}\n          required={required}\n          className=\"pl-10 pr-10\"\n        />\n        {inputValue && !disabled && (\n          <button\n            type=\"button\"\n            onClick={handleClear}\n            className=\"absolute right-2 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors z-10\"\n          >\n            <X className=\"h-4 w-4\" />\n          </button>\n        )}\n        {showSuggestions && suggestions.length > 0 && (\n          <div\n            ref={suggestionsRef}\n            className=\"absolute z-50 w-full mt-1 bg-popover border border-border rounded-md shadow-lg max-h-60 overflow-auto\"\n          >\n            {suggestions.map((suggestion, index) => (\n              <button\n                key={suggestion.placeId || index}\n                type=\"button\"\n                onClick={() => handlePlaceSelect(suggestion)}\n                className=\"w-full text-left px-4 py-2 hover:bg-accent hover:text-accent-foreground transition-colors cursor-pointer\"\n              >\n                <div className=\"font-medium\">{suggestion.displayName}</div>\n                {suggestion.formattedAddress && suggestion.formattedAddress !== suggestion.displayName && (\n                  <div className=\"text-xs text-muted-foreground\">{suggestion.formattedAddress}</div>\n                )}\n              </button>\n            ))}\n          </div>\n        )}\n      </div>\n      {isFocused && inputValue && (\n        <div className=\"text-xs text-muted-foreground flex items-center gap-1\">\n          <MapPin className=\"h-3 w-3\" />\n          <span>Start typing to see city suggestions</span>\n        </div>\n      )}\n    </div>\n  );\n}\n\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 564, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/abd03.DESKTOP-SVHBS19/Desktop/Proj2%20-%20Copy/Proj2%20-%20Copy/FrontEnd/src/components/auth/country-autocomplete.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useCallback, useMemo } from 'react';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Search, X, ChevronDown } from 'lucide-react';\n\n// Comprehensive list of countries\nconst COUNTRIES = [\n  { name: 'United States', code: 'US' },\n  { name: 'United Kingdom', code: 'GB' },\n  { name: 'Canada', code: 'CA' },\n  { name: 'Australia', code: 'AU' },\n  { name: 'Germany', code: 'DE' },\n  { name: 'France', code: 'FR' },\n  { name: 'Italy', code: 'IT' },\n  { name: 'Spain', code: 'ES' },\n  { name: 'Netherlands', code: 'NL' },\n  { name: 'Belgium', code: 'BE' },\n  { name: 'Switzerland', code: 'CH' },\n  { name: 'Austria', code: 'AT' },\n  { name: 'Sweden', code: 'SE' },\n  { name: 'Norway', code: 'NO' },\n  { name: 'Denmark', code: 'DK' },\n  { name: 'Finland', code: 'FI' },\n  { name: 'Poland', code: 'PL' },\n  { name: 'Portugal', code: 'PT' },\n  { name: 'Greece', code: 'GR' },\n  { name: 'Ireland', code: 'IE' },\n  { name: 'India', code: 'IN' },\n  { name: 'China', code: 'CN' },\n  { name: 'Japan', code: 'JP' },\n  { name: 'South Korea', code: 'KR' },\n  { name: 'Singapore', code: 'SG' },\n  { name: 'Malaysia', code: 'MY' },\n  { name: 'Thailand', code: 'TH' },\n  { name: 'Indonesia', code: 'ID' },\n  { name: 'Philippines', code: 'PH' },\n  { name: 'Vietnam', code: 'VN' },\n  { name: 'Pakistan', code: 'PK' },\n  { name: 'Bangladesh', code: 'BD' },\n  { name: 'Sri Lanka', code: 'LK' },\n  { name: 'Nepal', code: 'NP' },\n  { name: 'Afghanistan', code: 'AF' },\n  { name: 'Iran', code: 'IR' },\n  { name: 'Iraq', code: 'IQ' },\n  { name: 'Saudi Arabia', code: 'SA' },\n  { name: 'United Arab Emirates', code: 'AE' },\n  { name: 'Israel', code: 'IL' },\n  { name: 'Turkey', code: 'TR' },\n  { name: 'Egypt', code: 'EG' },\n  { name: 'South Africa', code: 'ZA' },\n  { name: 'Nigeria', code: 'NG' },\n  { name: 'Kenya', code: 'KE' },\n  { name: 'Brazil', code: 'BR' },\n  { name: 'Argentina', code: 'AR' },\n  { name: 'Mexico', code: 'MX' },\n  { name: 'Chile', code: 'CL' },\n  { name: 'Colombia', code: 'CO' },\n  { name: 'Peru', code: 'PE' },\n  { name: 'Venezuela', code: 'VE' },\n  { name: 'Russia', code: 'RU' },\n  { name: 'Ukraine', code: 'UA' },\n  { name: 'New Zealand', code: 'NZ' },\n].sort((a, b) => a.name.localeCompare(b.name));\n\ninterface CountryAutocompleteProps {\n  value: string;\n  onChange: (country: string) => void;\n  onBlur?: () => void;\n  disabled?: boolean;\n  placeholder?: string;\n  label?: string;\n  required?: boolean;\n  className?: string;\n}\n\nexport default function CountryAutocomplete({\n  value,\n  onChange,\n  onBlur,\n  disabled = false,\n  placeholder = 'Select or search for a country...',\n  label,\n  required = false,\n  className = '',\n}: CountryAutocompleteProps) {\n  const [inputValue, setInputValue] = useState(value);\n  const [showSuggestions, setShowSuggestions] = useState(false);\n\n  // Sync external value changes\n  useEffect(() => {\n    setInputValue(value);\n  }, [value]);\n\n  const filteredCountries = useMemo(() => {\n    if (!inputValue) return COUNTRIES.slice(0, 20);\n    return COUNTRIES.filter((country) =>\n      country.name.toLowerCase().includes(inputValue.toLowerCase())\n    ).slice(0, 20);\n  }, [inputValue]);\n\n  const handleSelect = (countryName: string) => {\n    setInputValue(countryName);\n    onChange(countryName);\n    setShowSuggestions(false);\n  };\n\n  const handleClear = useCallback(() => {\n    setInputValue('');\n    onChange('');\n    setShowSuggestions(false);\n  }, [onChange]);\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setInputValue(e.target.value);\n    setShowSuggestions(true);\n    if (!e.target.value) {\n      onChange('');\n    }\n  };\n\n  return (\n    <div className={`space-y-2 ${className}`}>\n      {label && (\n        <Label htmlFor=\"country-autocomplete\">\n          {label}\n          {required && <span className=\"text-destructive ml-1\">*</span>}\n        </Label>\n      )}\n      <div className=\"relative\">\n        <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground pointer-events-none z-10\" />\n        <Input\n          id=\"country-autocomplete\"\n          type=\"text\"\n          placeholder={placeholder}\n          value={inputValue}\n          onChange={handleInputChange}\n          onFocus={() => setShowSuggestions(true)}\n          onBlur={() => {\n            setTimeout(() => setShowSuggestions(false), 200);\n            onBlur?.();\n          }}\n          disabled={disabled}\n          required={required}\n          className=\"pl-10 pr-10\"\n        />\n        {inputValue && !disabled && (\n          <button\n            type=\"button\"\n            onClick={(e) => {\n              e.stopPropagation();\n              handleClear();\n            }}\n            className=\"absolute right-2 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors z-10\"\n          >\n            <X className=\"h-4 w-4\" />\n          </button>\n        )}\n        {!inputValue && (\n          <ChevronDown className=\"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground pointer-events-none z-10\" />\n        )}\n        \n        {/* Suggestions Dropdown */}\n        {showSuggestions && filteredCountries.length > 0 && (\n          <div className=\"absolute z-50 w-full mt-1 bg-popover border border-border rounded-md shadow-lg max-h-60 overflow-auto\">\n            {filteredCountries.map((country) => (\n              <button\n                key={country.code}\n                type=\"button\"\n                onClick={() => handleSelect(country.name)}\n                className=\"w-full text-left px-4 py-2 hover:bg-accent hover:text-accent-foreground transition-colors cursor-pointer\"\n              >\n                {country.name}\n              </button>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 948, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/abd03.DESKTOP-SVHBS19/Desktop/Proj2%20-%20Copy/Proj2%20-%20Copy/FrontEnd/src/app/register/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport Link from 'next/link';\nimport { useAuth } from '@/contexts/auth-context';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { Loader2, AlertCircle, CheckCircle2 } from 'lucide-react';\nimport CityAutocomplete from '@/components/auth/city-autocomplete';\nimport CountryAutocomplete from '@/components/auth/country-autocomplete';\n\nexport default function RegisterPage() {\n  const [email, setEmail] = useState('');\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [city, setCity] = useState('');\n  const [country, setCountry] = useState('');\n  const [cityCoordinates, setCityCoordinates] = useState<{ lat: number; lng: number } | undefined>(undefined);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const { register } = useAuth();\n  const router = useRouter();\n\n  const handleCityChange = (cityName: string, countryName: string, coordinates?: { lat: number; lng: number }) => {\n    setCity(cityName);\n    if (countryName) {\n      setCountry(countryName);\n    }\n    if (coordinates) {\n      setCityCoordinates(coordinates);\n    }\n  };\n\n  const handleCountryChange = (countryName: string) => {\n    setCountry(countryName);\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n    setSuccess(false);\n\n    if (password !== confirmPassword) {\n      setError('Passwords do not match');\n      return;\n    }\n\n    if (password.length < 8) {\n      setError('Password must be at least 8 characters long');\n      return;\n    }\n\n    setLoading(true);\n\n    try {\n      // Use coordinates from city autocomplete if available, otherwise let backend geocode\n      await register(\n        email,\n        username,\n        password,\n        city || undefined,\n        country || undefined,\n        cityCoordinates?.lat,\n        cityCoordinates?.lng\n      );\n      setSuccess(true);\n      setTimeout(() => {\n        router.push('/login');\n      }, 3000);\n    } catch (err: any) {\n      setError(err.message || 'Registration failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (success) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-background p-4\">\n        <Card className=\"w-full max-w-md\">\n          <CardContent className=\"pt-6\">\n            <Alert>\n              <CheckCircle2 className=\"h-4 w-4\" />\n              <AlertDescription>\n                Registration successful! Please check your email to verify your account. Redirecting to login...\n              </AlertDescription>\n            </Alert>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-background p-4\">\n      <Card className=\"w-full max-w-md\">\n        <CardHeader>\n          <CardTitle>Create Account</CardTitle>\n          <CardDescription>Sign up to get started</CardDescription>\n        </CardHeader>\n        <CardContent>\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            {error && (\n              <Alert variant=\"destructive\">\n                <AlertCircle className=\"h-4 w-4\" />\n                <AlertDescription>{error}</AlertDescription>\n              </Alert>\n            )}\n\n            <div className=\"space-y-2\">\n              <label htmlFor=\"email\" className=\"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\">\n                Email\n              </label>\n              <input\n                id=\"email\"\n                type=\"email\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                required\n                disabled={loading}\n                className=\"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\"\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <label htmlFor=\"username\" className=\"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\">\n                Username\n              </label>\n              <input\n                id=\"username\"\n                type=\"text\"\n                value={username}\n                onChange={(e) => setUsername(e.target.value)}\n                required\n                disabled={loading}\n                className=\"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\"\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <label htmlFor=\"password\" className=\"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\">\n                Password\n              </label>\n              <input\n                id=\"password\"\n                type=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                required\n                disabled={loading}\n                minLength={8}\n                className=\"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\"\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <label htmlFor=\"confirmPassword\" className=\"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\">\n                Confirm Password\n              </label>\n              <input\n                id=\"confirmPassword\"\n                type=\"password\"\n                value={confirmPassword}\n                onChange={(e) => setConfirmPassword(e.target.value)}\n                required\n                disabled={loading}\n                minLength={8}\n                className=\"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\"\n              />\n            </div>\n\n            <div className=\"space-y-4 pt-4 border-t\">\n              <div className=\"text-sm font-medium\">Location (Optional - for AQI alerts)</div>\n              <p className=\"text-xs text-muted-foreground\">\n                Add your location to receive email alerts when air quality is unhealthy in your area. Your city will also be shown on the dashboard.\n              </p>\n\n              <CityAutocomplete\n                value={city}\n                onChange={handleCityChange}\n                disabled={loading}\n                placeholder=\"Search for a city...\"\n                label=\"City\"\n              />\n\n              <CountryAutocomplete\n                value={country}\n                onChange={handleCountryChange}\n                disabled={loading}\n                placeholder=\"Select or search for a country...\"\n                label=\"Country\"\n              />\n            </div>\n\n            <Button type=\"submit\" className=\"w-full\" disabled={loading}>\n              {loading ? (\n                <>\n                  <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                  Creating account...\n                </>\n              ) : (\n                'Register'\n              )}\n            </Button>\n\n            <div className=\"text-center text-sm text-muted-foreground\">\n              Already have an account?{' '}\n              <Link href=\"/login\" className=\"text-primary hover:underline\">\n                Login\n              </Link>\n            </div>\n          </form>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":"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","debugId":null}}]
}